---
title: æ­£åˆ™è¡¨è¾¾å¼
tags:
  - å­¦ä¹ 
categories: å‰ç«¯
cover: 'https://www.mediumcn.com/assets/images/default/regex_cover.jpg'
keywords: å­¦ä¹  å‰ç«¯ æ­£åˆ™
abbrlink: 46563
date: 2024-01-24 15:24:08
---

# æ­£åˆ™è¡¨è¾¾å¼

ä¸€ç›´ä»¥æ¥éƒ½é¿å…æ¥è§¦æ­£åˆ™ ğŸ˜ ï¼Œå› ä¸ºæ„Ÿè§‰éƒ½æ˜¯å•¥ï¼Œçœ‹ä¸æ‡‚ï¼Œå¥½éš¾çœ‹ï¼Œä¸æƒ³å­¦ ğŸ¥ºã€‚ä¸è¿‡è¿˜æ˜¯æœ‰å¿…è¦äº†è§£å­¦ä¹ ä¸€ä¸‹çš„ï¼Œè‡³å°‘è¦èƒ½çœ‹æ‡‚ï¼ŒçŸ¥é“åœ¨ä»€ä¹ˆæ—¶å€™ä½¿ç”¨å®ƒï¼Œå½“ç„¶å…·ä½“çš„è¡¨è¾¾å¼å¯ä»¥ç›´æ¥ç™¾åº¦æˆ–è€…é—® GPTï¼Œçœ‹å¾—æ‡‚æ„æ€å°±å¥½ã€‚

æ­£åˆ™è¡¨è¾¾å¼æ˜¯`åŒ¹é…æ¨¡å¼`ï¼Œè¦ä¹ˆ`åŒ¹é…å­—ç¬¦`ï¼Œè¦ä¹ˆ`åŒ¹é…ä½ç½®`ã€‚

## ææ‡‚ä½ç½®èƒ½å¹²å•¥ï¼Ÿ

1. æ•°å­—çš„åƒåˆ†ä½åˆ†å‰²æ³•
   > 123456789 -> 123,456,789
2. æ‰‹æœºå· 3-4-4 åˆ†å‰²
   > 12345678901 -> 123-4567-8901
3. å¯†ç åˆæ³•æ€§æ ¡éªŒ
   > å¯†ç é•¿åº¦æ˜¯ 6-12 ä½ï¼Œç”±æ•°å­—ã€å°å†™å­—ç¬¦å’Œå¤§å†™å­—æ¯ç»„æˆï¼Œä½†å¿…é¡»è‡³å°‘åŒ…æ‹¬ 2 ç§å­—ç¬¦

ä¸Šé¢ä¹Ÿéƒ½æ˜¯å¾ˆå¸¸è§çš„éœ€æ±‚ï¼Œæ­£åˆ™å¯ä»¥å¾ˆæ–¹ä¾¿çš„è§£å†³ä»–ä»¬

### ä»€ä¹ˆæ˜¯ä½ç½®

ä½ç½®å¯ä»¥ç†è§£ä¸ºç›¸é‚»å­—ç¬¦ä¹‹é—´çš„ä½ç½®ï¼Œå¯ä»¥ç±»æ¯”ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œåœ¨å­—ç¬¦çš„é¦–å°¾ã€é—´éš™ç”¨ç©ºå­—ç¬¦è¿æ¥

```js
'he' === '' + 'h' + '' + 'e' + ''
```

### æœ‰å“ªäº›ä½ç½®

æ­£åˆ™ä¸­å¸¸ç”¨æ¥è¡¨ç¤ºä½ç½®çš„ç¬¦å·ä¸»è¦æœ‰ï¼š
`^`ã€`$`ã€`\b`ã€`\B`ã€`?=p`ã€`(?!p)`ã€`(?<=p)`ã€`(?<!p)`

#### ^

> åŒ¹é…è¡Œçš„å¼€å¤´

å¦‚æœè¦åœ¨ hello å¼€å¤´èµ›ä¸€ä¸ªç¬‘è„¸ ğŸ˜Šï¼Œå°±å¯ä»¥è¿™ä¹ˆå†™

```js
let str = 'hello'
console.log(str.replace(/^/, 'ğŸ˜Š'))
// ğŸ˜Šhello
```

#### $

> åŒ¹é…è¡Œçš„ç»“å°¾

åŒç†åœ¨ hello çš„æœ«å°¾èµ›ä¸€ä¸ªç¬‘è„¸ ğŸ˜Š

```js
console.log('hello'.replace(/$/, 'ğŸ˜Š'))
```

#### \b

> å•è¯çš„è¾¹ç•Œ

åŒ¹é…ä¸€ä¸ªå•è¯è¾¹ç•Œï¼Œå³å­—å’Œç©ºæ ¼ä¹‹é—´çš„ä½ç½®
æ¯”å¦‚æƒ³æŠŠ`xxx_1.mp4`å˜æˆ`â¤ï¸xxx_1â¤ï¸.â¤ï¸mp4â¤ï¸`ï¼Œå°±å¯ä»¥è¿™ä¹ˆå†™

```js
let str = 'xxx_1.mp4'
console.log(str.replace(/\b/, 'â¤ï¸'))
// â¤ï¸xxx_1.mp4 æ²¡æœ‰gï¼Œåªæ›¿æ¢ç¬¬ä¸€ä¸ª
console.log(str.replace(/\b/g, 'â¤ï¸'))
// â¤ï¸xxx_1â¤ï¸.â¤ï¸mp4â¤ï¸
```

#### \B

> éå•è¯çš„è¾¹ç•Œï¼Œå°±æ˜¯å’Œ\b ç›¸å

ç›´æ¥çœ‹ä¾‹å­å§ï¼š

```js
let str = 'xxx_1.mp4'
console.log(str.replace(/\B/, 'â¤ï¸'))
// xâ¤ï¸xx_1.mp4 æ²¡æœ‰gï¼Œåªæ›¿æ¢ç¬¬ä¸€ä¸ª
console.log(str.replace(/\B/g, 'â¤ï¸'))
// xâ¤ï¸xâ¤ï¸xâ¤ï¸_â¤ï¸1.mâ¤ï¸pâ¤ï¸4
```

#### (?=p)

> p ä¸ºæ­£å‘å…ˆè¡Œæ–­è¨€ï¼Œè¡¨ç¤º p å‰é¢çš„ä½ç½®

æ¯”å¦‚æƒ³æŠŠ`xxx_1.mp4`å˜æˆ`â¤ï¸xxx_1.mp4`ï¼Œå°±å¯ä»¥è¿™ä¹ˆå†™

```js
let str = 'xxx_1.mp4'
console.log(str.replace(/(?=xxx)/, 'â¤ï¸'))
// â¤ï¸xxx_1.mp4
```

#### (?!p)

> p ä¸ºè´Ÿå‘å…ˆè¡Œæ–­è¨€ï¼Œè¡¨ç¤ºä¸åœ¨ p å‰é¢çš„ä½ç½®

```js
let str = 'xxx_1.mp4'
console.log(str.replace(/(?!xxx)/, 'â¤ï¸'))
// xâ¤ï¸xx_1.mp4
console.log(str.replace(/(?!xxx)/g, 'â¤ï¸'))
// xâ¤ï¸xâ¤ï¸xâ¤ï¸_â¤ï¸1â¤ï¸.â¤ï¸mâ¤ï¸pâ¤ï¸4
```

#### (?<=p)

> p ä¸ºæ­£å‘åè¡Œæ–­è¨€ï¼Œè¡¨ç¤º p åé¢çš„ä½ç½®

```js
let str = 'xxx_1.mp4'
console.log(str.replace(/(?<=xxx)/, 'â¤ï¸'))
// xxxâ¤ï¸_1.mp4
```

#### (?<!p)

> p ä¸ºè´Ÿå‘åè¡Œæ–­è¨€ï¼Œè¡¨ç¤ºä¸åœ¨ p åé¢çš„ä½ç½®

```js
let str = 'xxx_1.mp4'
console.log(str.replace(/(?<!xxx)/, 'â¤ï¸'))
// â¤ï¸xxx_1.mp4
console.log(str.replace(/(?<!xxx)/g, 'â¤ï¸'))
// â¤ï¸xâ¤ï¸xâ¤ï¸x_â¤ï¸1â¤ï¸.â¤ï¸mâ¤ï¸pâ¤ï¸4â¤ï¸
```

### å°è¯•åšé¢˜

#### æ•°å­—çš„åƒåˆ†ä½åˆ†å‰²æ³•

> å°† 123456789 è½¬åŒ–ä¸º 123,456,789

ä»åå¾€å‰ï¼Œæ¯ 3 ä¸ªæ•°å­—å‰é¢åŠ ä¸€ä¸ªé€—å·ï¼Œè¿™å¾ˆç¬¦åˆ(?=p)

1. å…ˆå§æœ€åä¸€ä¸ªé€—å·å¼„å‡ºæ¥

```js
let price = '123456789'
let priceReg = /(?=\d{3}$)/
console.log(price.replace(priceReg, ','))
// 123456,789
```

2. å¼„å‡ºæ‰€æœ‰çš„é€—å·

```js
let price = '123456789'
let priceReg = /(?=(\d{3})+$)/g
// (/d{3})å°±æ˜¯åŒ¹é…ä¸‰ä¸ªä¸ºä¸€ç»„çš„æ•°å­—
console.log(price.replace(priceReg, ','))
// ,123,456,789
```

3. å»æ‰ç¬¬ä¸€ä¸ªé€—å·

```js
let price = '123456789'
let priceReg = /(?!^)(?=(\d{3})+$)/g
// (?!^)æ¥è¦æ±‚ä¸èƒ½æ˜¯é¦–ä½
console.log(price.replace(priceReg, ','))
// 123,456,789
```

#### æ‰‹æœºå· 3-4-4 åˆ†å‰²

> 12345678901 -> 123-4567-8901

```js
let phone = '12345678901'
let phoneReg = /(?=(\d{4})+$)/g
console.log(phone.replace(phoneReg, '-'))
// 123-4567-8901
```

#### æ‰‹æœºå· 3-4-4 åˆ†å‰²æ‹“å±•

è¦æ±‚è¿™æ ·çš„å½¢å¼

```js
123 => 123
1234 => 123-4
12345 => 123-45
123456 => 123-456
1234567 => 123-4567
12345678 => 123-4567-8
123456789 => 123-4567-89
12345678911 => 123-4567-8911
```

è¿™ä¸ªå°±æ˜¯å’Œä»å‰å¾€å

1. å…ˆå¼„ç¬¬ä¸€ä¸ª -

```js
const formatPhone = phone => String(phone).replace(/(?<=\d{3})\d+/, '-')
console.log(formatPhone(123)) // 123
console.log(formatPhone(1234)) // 123-
```

2. ç¬¬äºŒä¸ª

```js
const formatPhone = phone =>
  String(phone)
    .slice(0, 11)
    .replace(/(?<=\d{3})\d+/, str => `-${str}`)
    .replace(/(?<=[\d-]{8})\d{1,4}/, str => `-${str}`)
// å…ˆåŒ¹é…çš„123xxxx, xxxx -> -xxxx
// ç„¶ååŒ¹é…çš„ '123-xxxx'åé¢çš„å†…å®¹
console.log(formatPhone(123)) // 123
console.log(formatPhone(1234)) // 123-4
console.log(formatPhone(12345)) // 123-45
console.log(formatPhone(123456)) // 123-456
console.log(formatPhone(1234567)) // 123-4567
console.log(formatPhone(12345678)) // 123-4567-8
console.log(formatPhone(123456789)) // 123-4567-89
console.log(formatPhone(12345678911)) // 123-4567-8911
```

#### æ ¡éªŒå¯†ç åˆæ³•æ€§

> å¯†ç é•¿åº¦æ˜¯ 6-12 ä½ï¼Œç”±æ•°å­—ã€å°å†™å­—ç¬¦å’Œå¤§å†™å­—æ¯ç»„æˆï¼Œä½†å¿…é¡»è‡³å°‘åŒ…æ‹¬ 2 ç§å­—ç¬¦

1. 6-12 ä½
2. æ•°å­—ã€å°å†™ã€å¤§å†™
3. è‡³å°‘ 2 ç§

å…ˆå†™ 12 ä¿©æ¡ä»¶

```js
let reg = /^[a-za-Z\d]{6-12}$/
```

æ¡ä»¶ 3

```js
let reg = /^(?![a-z]+$)(?![A-Z]+$)(?!\d+$)[a-zA-Z\d]{6,12}$/
console.log(reg.test('123456')) // false
console.log(reg.test('aaaaaa')) // false
console.log(reg.test('AAAAAAA')) // false
console.log(reg.test('1a1a1a')) // true
console.log(reg.test('1A1A1A')) // true
console.log(reg.test('aAaAaA')) // true
console.log(reg.test('1aA1aA1aA')) // true
```

## å­—ç¬¦ä¸²åŒ¹é…

### ä¿©ç§æ¨¡ç³ŠåŒ¹é…

#### æ¨ªå‘

> é€šè¿‡`+`ã€`*`ã€`?`ã€`{m,n}`ï¼Œå¯å®ç°æ¨ªå‘åŒ¹é…

```js
let reg = /ab{2,5}c/g
let str = 'abc abbc abbbc abbbbc abbbbbc abbbbbbc'
console.log(str.match(reg))
// ['abbc', 'abbbc', 'abbbbc', 'abbbbbc']
```

#### çºµå‘

> é€šè¿‡`[]`ï¼Œå¯å®ç°çºµå‘åŒ¹é…

```js
let reg = /a[123]b/g
let str = 'a0b a1b a2b a3b a4b'
console.log(str.match(reg))
// ['a1b', 'a2b', 'a3b']
```

### å­—ç¬¦ç»„

> è™½ç„¶å«å­—ç¬¦ç»„ï¼Œä¸è¿‡ä¹Ÿæœ‰å¯èƒ½åªæœ‰ä¸€ä¸ªå­—ç¬¦

#### èŒƒå›´è¡¨ç¤ºæ³•

```js
[123456abcdefABCDEF]Â =>Â [1-6a-fA-F]
```

#### æ’é™¤å­—ç¬¦ç»„

> ä½¿ç”¨^æ¥æ’é™¤

```js
let reg = /[^abc]/g
let str = 'a0b23'
console.log(str.replace(reg, 'â¤ï¸'))
// aâ¤ï¸bâ¤ï¸â¤ï¸
```

#### å¸¸è§ç®€å†™

```js
\dÂ //Â æ•°å­—
\DÂ //Â éæ•°å­—
\wÂ //Â [0-9a-zA-Z_]
\WÂ //Â [^0-9a-zA-Z_]
\sÂ //Â [\t\v\n\r\f]
\SÂ //Â [^\t\v\n\r\f]
```

### é‡è¯

#### é‡è¯ ç®€å†™

```js
1.Â {m,}Â //Â è‡³å°‘å‡ºç°mæ¬¡
2.Â {m}Â //Â å‡ºç°mæ¬¡
3. {m,n}Â //Â å‡ºç°m-næ¬¡
3.Â ?Â //Â å‡ºç°0æ¬¡æˆ–è€…1æ¬¡ï¼Œç­‰ä»·äº{0,1}Â Â Â Â 
4.Â +Â //Â è‡³å°‘å‡ºç°1æ¬¡,ç­‰ä»·äº{1,}Â 
5.Â *Â //Â å‡ºç°>=0æ¬¡,ç­‰ä»·äº{0,}Â Â 
```

#### è´ªå©ªåŒ¹é… æƒ°æ€§åŒ¹é…

> è´ªå©ªä¼šå°½å¯ç­‰å¤šåŒ¹é…ç¬¦åˆæ¨¡å¼çš„å­—ç¬¦

```js
//Â è´ªå©ªåŒ¹é…
let regex = /\d{2,5}/g
let string = '123Â 1234Â 12345Â 123456'
string.match(regex) //Â [Â 123,Â 1234,Â 12345,Â 12345Â ]
//Â æƒ°æ€§åŒ¹é…
let regex2 = /\d{2,5}?/g
string.match(regex) //Â [Â 12,Â 12,Â 34,Â 12,Â 34,Â 12,Â 34,Â 56Â Â ]
```

### å¤šé€‰åˆ†æ”¯

```js
let regex = /good|nice/g
let string = 'good idea, nice try.'
string.match(regex) // [ 'good', 'nice' ]
```

### é¢˜ç›®

1. åŒ¹é… id

```js
//Â 1
let regex1 = /id=".*?"/
//Â æƒ³æƒ³ä¸ºä»€ä¹ˆè¦åŠ ?Â ä¸åŠ çš„è¯Â è¿åé¢çš„classéƒ½ä¼šåŒ¹é…åˆ°
let string = '<divÂ id="container"Â class="main"></div>'
console.log(string.match(regex1)[0])
//Â 2
let regex2 = /id="[^"]*"/
console.log(string.match(regex2)[0])
```

2. åŒ¹é… 16 è¿›åˆ¶é¢œè‰²å€¼

```js
//Â è¦æ±‚åŒ¹é…å¦‚ä¸‹é¢œè‰²
/*
#ffbbad
#Fc01DF
#FFF
#ffE
*/

let regex = /#([a-fA-F\d]{6}|[a-fA-F\d]{3})/g
let string = '#ffbbadÂ #Fc01DFÂ #FFFÂ #ffE'

console.log(string.match(regex))
//Â Â ["#ffbbad",Â "#Fc01DF",Â "#FFF",Â "#ffE"]
```

3. åŒ¹é… 24 å°æ—¶åˆ¶æ—¶é—´

```js
/*
Â Â è¦æ±‚åŒ¹é…
Â Â 23:59
Â Â 02:07
*/
//Â è§£æï¼š
//Â ç¬¬ä¸€ä½ï¼šå¯ä»¥æ˜¯0ã€1ã€2
//Â ç¬¬äºŒä½ï¼šå½“ç¬¬ä¸€ä½ä½0æˆ–è€…1çš„æ—¶å€™ï¼Œå¯ä»¥æ˜¯0åˆ°9ã€ç¬¬ä¸€ä½æ˜¯2çš„æ—¶å€™ï¼Œåªå¯ä»¥æ˜¯0åˆ°3
//Â ç¬¬ä¸‰ä½ï¼šå›ºå®šæ˜¯å†’å·ï¼š
//Â ç¬¬å››ä½ï¼šå¯ä»¥æ˜¯0åˆ°5
//Â ç¬¬äº”ä½ï¼š0åˆ°9

let regex = /^([01]\d|2[0-3]):[0-5]\d$/

console.log(regex.test('23:59')) //Â true
console.log(regex.test('02:07')) //Â true

//Â è¡ç”Ÿé¢˜ï¼Œå¯ä»¥æ˜¯é0
let regex = /^(0?\d|1\d|2[0-3]):(0?|[1-5])\d/

console.log(regex.test('23:59')) //Â true
console.log(regex.test('02:07')) //Â true
console.log(regex.test('7:09')) //Â true
```

## æ‹¬å·çš„ä½œç”¨

### åˆ†ç»„

è®©é‡è¯ä½œç”¨äºä¸€ä¸ªæ•´ä½“

```js
let reg = /(ab)+/g
let string = 'ababaÂ abbbÂ ababab'

console.log(string.match(reg))
//Â ["abab",Â "ab",Â "ababab"]
```

### åˆ†æ”¯ç»“æ„

```js
let reg = /IÂ loveÂ (JavaScript|RegularÂ Expression)/

console.log(reg.test('IÂ loveÂ JavaScript'))
//Â true
console.log(reg.test('IÂ loveÂ RegularÂ Expression'))
//Â true
```

## æ€»ç»“

æ„Ÿè§‰è¿˜æ˜¯ä¸å¥½ç†è§£ï¼Œä¸è¿‡èƒ½çœ‹æ‡‚ä¸€äº›ç¬¦å·çš„å«ä¹‰äº† â˜¹ï¸

## å‚è€ƒé“¾æ¥

- [å°±å› ä¸ºè¿™ä¸‰ä¸ªçŸ¥è¯†ç‚¹ï¼Œæˆ‘å½»åº•å­¦åºŸäº†â€æ­£åˆ™è¡¨è¾¾å¼â€œ](https://juejin.cn/post/7021672733213720613)
